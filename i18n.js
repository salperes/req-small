const translations = {
  en: {
    "brand.title": "Requirements Management Studio",
    "app.title": "RMS - Requirements Management Studio",
    "brand.sub": "Traceable. Auditable. Ready for delivery.",
    "tab.import": "Import",
    "tab.newRequirement": "New Requirement",
    "tab.library": "Requirement Library",
    "tab.traceability": "Traceability",
    "tab.prioritization": "Prioritization",
    "tab.roadmap": "Roadmap",
    "tab.baselines": "Baselines",
    "tab.admin": "Admin",
    "auth.notSignedIn": "Not signed in",
    "auth.logout": "Logout",
    "lang.label": "Language",
    "import.title": "Ingest specifications, structure them fast.",
    "import.subtitle":
      "Paste clauses from PDF/Word exports. The parser will detect clause numbering and turn each line into a requirement entry.",
    "import.pill": "Supports ISO / MIL-STD style numbering",
    "import.pasteLabel": "Paste specification text",
    "import.pastePlaceholder": "3.2.1 The system shall...",
    "import.importBtn": "Import Requirements",
    "import.reqifFile": "ReqIF File",
    "import.reqifImportBtn": "Import ReqIF",
    "import.reqifExportBtn": "Export ReqIF",
    "import.csvFile": "CSV File",
    "import.csvImportBtn": "Import CSV",
    "import.csvTemplateBtn": "Download CSV Template",
    "newReq.title": "New Requirement",
    "newReq.createBtn": "Create Requirement",
    "template.userStory.label": "User Story",
    "template.userStory.value": "As a [role], I want [goal] so that [benefit].",
    "template.systemShall.label": "System Shall",
    "template.systemShall.value": "The system shall ...",
    "template.componentShall.label": "Component Shall",
    "template.componentShall.value": "The component shall ...",
    "docLibrary.title": "Document Library",
    "docLibrary.searchPlaceholder": "Search documents",
    "docLibrary.sysSpec": "System Specification - Rev A",
    "docLibrary.icd": "Interface Control Document - Rev C",
    "docLibrary.qaPlan": "Quality Assurance Plan - Rev B",
    "docLibrary.testStrat": "Verification Strategy - Draft",
    "docLibrary.mea": "Measurement Procedures - Rev D",
    "docLibrary.none": "No more documents.",
    "field.id": "ID",
    "field.autoGenerated": "Auto-generated",
    "field.title": "Requirement",
    "field.description": "Description",
    "field.rationale": "Rationale",
    "field.discipline": "Discipline",
    "field.subsystem": "Subsystem",
    "field.systemCode": "System Code (3 chars)",
    "field.subsystems": "Subsystems",
    "field.globalReqId": "Global Req ID",
    "field.workflowStatus": "Workflow Status",
    "field.derivedFrom": "Derived From",
    "field.informationalOnly": "Informational Only",
    "field.requirementType": "Requirement Type",
    "field.verificationMethod": "Verification Method",
    "field.targetQuarter": "Target Phase",
    "field.effortPoints": "Effort Points",
    "field.specClause": "Spec Clause",
    "field.specClauseOptional": "Spec Clause (optional)",
    "field.specClausePlaceholder": "3.2.1",
    "field.standards": "Standards (comma separated)",
    "field.standardsPlaceholder": "ISO 9001, MIL-STD-810",
    "field.referenceDocs": "Reference Docs (comma separated)",
    "field.referenceDocsPlaceholder": "DOC-12, SPEC-7",
    "field.parentRequirement": "Parent Requirement",
    "field.name": "Name",
    "field.email": "Email",
    "field.password": "Password",
    "field.role": "Role",
    "field.projectName": "Project Name",
    "field.customer": "Customer",
    "field.customerPlaceholder": "Client / customer name",
    "field.startDate": "Start Date",
    "field.dueDate": "Due Date",
    "field.user": "User",
    "field.project": "Project",
    "library.title": "Requirement Library",
    "library.searchPlaceholder": "Search by ID or text",
    "library.exportCsv": "Export CSV",
    "detail.title": "Requirement Detail",
    "detail.selectPrompt": "Select a requirement",
    "detail.prevBtn": "Previous",
    "detail.nextBtn": "Next",
    "detail.autoSave": "Auto Save",
    "detail.saveBtn": "Save Changes",
    "comments.title": "Comments & Versions",
    "comments.none": "No comments yet.",
    "comments.placeholder": "Add comment with @mention",
    "comments.postBtn": "Post",
    "versions.title": "Version History",
    "versions.none": "No version history yet.",
    "badge.suspect": "Suspect",
    "filter.allDisciplines": "All Disciplines",
    "filter.allStatuses": "All Statuses",
    "filter.allTypes": "All Types",
    "filter.infoOnly": "Informational Only",
    "filter.nonInfo": "Not Informational",
    "discipline.system": "System",
    "discipline.mechanical": "Mechanical",
    "discipline.software": "Software",
    "discipline.electronics": "Electronics",
    "discipline.automation": "Automation",
    "discipline.optics": "Optics",
    "discipline.other": "Other",
    "reqType.functional": "Functional",
    "reqType.performance": "Performance",
    "reqType.safety": "Safety",
    "reqType.security": "Security",
    "reqType.regulatory": "Regulatory",
    "reqType.interface": "Interface",
    "reqType.constraint": "Constraint",
    "reqType.technical": "Technical Requirement",
    "reqType.environmental": "Environmental Requirement",
    "reqType.info": "Explanation",
    "meta.dash": "-",
    "meta.yes": "Yes",
    "meta.no": "No",
    "verification.analysis": "Analysis",
    "verification.test": "Test",
    "verification.inspection": "Inspection",
    "verification.demonstration": "Demonstration",
    "verification.coc": "Certificate of Conformity",
    "status.draft": "Draft",
    "status.inReview": "In Review",
    "status.approved": "Approved",
    "status.rejected": "Rejected",
    "trace.title": "Traceability Matrix",
    "trace.subtitle": "Link requirements to design docs and tests.",
    "trace.requirement": "Requirement",
    "trace.designDocs": "Design Docs (comma separated)",
    "trace.designDocsHeader": "Design Docs",
    "trace.tests": "Tests (comma separated)",
    "trace.testsHeader": "Tests",
    "trace.designPlaceholder": "DOC-12, SYS-ARCH-04",
    "trace.testsPlaceholder": "TST-104, TST-220",
    "trace.saveBtn": "Save Links",
    "prio.title": "Prioritization",
    "prio.subtitle": "MoSCoW, RICE, or WSJF scoring.",
    "prio.requirement": "Requirement",
    "prio.model": "Model",
    "prio.model.moscow": "MoSCoW",
    "prio.model.rice": "RICE",
    "prio.model.wsjf": "WSJF",
    "prio.saveBtn": "Save Score",
    "prio.priority": "Priority",
    "prio.moscow.must": "Must",
    "prio.moscow.should": "Should",
    "prio.moscow.could": "Could",
    "prio.moscow.wont": "Won't",
    "prio.rice.reach": "Reach",
    "prio.rice.impact": "Impact",
    "prio.rice.confidence": "Confidence",
    "prio.rice.effort": "Effort",
    "prio.wsjf.businessValue": "Business Value",
    "prio.wsjf.timeCriticality": "Time Criticality",
    "prio.wsjf.riskReduction": "Risk Reduction",
    "prio.wsjf.jobSize": "Job Size",
    "roadmap.title": "Roadmap",
    "roadmap.subtitle": "Phase plan based on effort points.",
    "roadmap.none": "No items yet.",
    "baselines.title": "Baselines",
    "baselines.subtitle": "Freeze snapshots of the current requirements.",
    "baselines.namePlaceholder": "Baseline name",
    "baselines.defaultName": "Baseline {count}",
    "baselines.createBtn": "Create Baseline",
    "baselines.none": "No baselines yet.",
    "admin.title": "Admin Center",
    "admin.subtitle": "Manage users, projects, and access rights.",
    "admin.exportJson": "Export JSON",
    "admin.importJson": "Import JSON",
    "admin.importBackup": "Create backup before import",
    "admin.reset": "Reset",
    "admin.createUser": "Create User",
    "admin.createUserBtn": "Create User",
    "admin.createProject": "Create Project",
    "admin.createProjectBtn": "Create Project",
    "admin.projectCatalog": "Project Catalog",
    "admin.projectCatalogHint": "Edit existing projects and update their attributes.",
    "admin.assignUser": "Assign User to Project",
    "admin.assignBtn": "Assign",
    "admin.accessOverview": "Access Overview",
    "admin.remove": "Remove",
    "admin.projectSave": "Save",
    "admin.projectDelete": "Delete",
    "admin.noProjects": "No projects available.",
    "admin.noAssignments": "No assignments yet.",
    "project.defaultName": "RMS Project",
    "csv.header.id": "ID",
    "csv.header.specClause": "Spec Clause",
    "csv.header.title": "Requirement",
    "csv.header.discipline": "Discipline",
    "csv.header.status": "Status",
    "csv.header.info": "Info",
    "csv.header.requirementType": "Requirement Type",
    "csv.header.verificationMethod": "Verification Method",
    "csv.header.parent": "Parent",
    "csv.header.quarter": "Quarter",
    "csv.header.effort": "Effort",
    "csv.template.specClause": "spec clause",
    "csv.template.description": "rationale",
    "csv.template.verificationMethod": "verification method",
    "csv.template.specClauseExample": "3.2.1",
    "csv.template.descriptionExample": "Rationale: ...",
    "csv.template.verificationExample": "Analysis, Test",
    "role.user": "User",
    "role.supervisor": "Supervisor",
    "role.admin": "Admin",
    "role.editor": "Editor",
    "role.viewer": "Viewer",
    "auth.signIn": "Sign in",
    "auth.signInHint": "Use your credentials to access your projects.",
    "auth.loginBtn": "Login",
    "auth.resetLocal": "Reset Local Data",
    "select.none": "None",
    "select.choose": "Select...",
    "status.infoTag": "Info",
    "status.suspectTag": "Suspect",
    "status.loaded": "loaded",
    "status.selectRequirement": "Select a requirement",
    "status.invalidCredentials": "Invalid credentials.",
    "status.selectProjectFirst": "Select a project first.",
    "status.nothingToImport": "Nothing to import.",
    "status.importedRequirements": "Imported {count} requirements.",
    "status.importedReqif": "Imported {count} ReqIF requirements.",
    "status.importedCsv": "Imported {count} CSV requirements.",
    "status.localReset": "Local data reset. Use admin@example.com / admin.",
    "status.importFailed": "Import failed. Please select a valid JSON export.",
    "status.importSuccess": "Import completed.",
    "status.importCancelled": "Import cancelled.",
    "confirm.importOverwrite": "All existing data will be replaced. Continue?",
    "unsaved.title": "Unsaved changes",
    "unsaved.message": "You have unsaved changes. What would you like to do?",
    "unsaved.save": "Save",
    "unsaved.discard": "Continue",
    "unsaved.cancel": "Cancel",
    "confirm.reset": "All local data will be cleared. Continue?",
    "confirm.deleteProject": "Delete this project? Requirements, baselines, and memberships will be removed.",
    "confirm.unsavedNavigate": "You have unsaved changes. Continue without saving?",
    "meta.pointsShort": "pts",
    "meta.suspectLabel": "suspect",
    "meta.requirements": "requirements",
    "meta.unknown": "Unknown",
  },
  tr: {
    "brand.title": "Gereksinim Yönetim Stüdyosu",
    "app.title": "RMS - Gereksinim Yönetim Stüdyosu",
    "brand.sub": "İzlenebilir. Denetlenebilir. Teslimata hazır.",
    "tab.import": "İçe Aktar",
    "tab.newRequirement": "Yeni Gereksinim",
    "tab.library": "Gereksinim Kütüphanesi",
    "tab.traceability": "İzlenebilirlik",
    "tab.prioritization": "Önceliklendirme",
    "tab.roadmap": "Yol Haritası",
    "tab.baselines": "Baseline'lar",
    "tab.admin": "Admin",
    "auth.notSignedIn": "Oturum açılmadı",
    "auth.logout": "Çıkış",
    "lang.label": "Dil",
    "import.title": "Şartnameleri içe alın, hızlıca yapılandırın.",
    "import.subtitle":
      "PDF/Word dışa aktarımlarından maddeleri yapıştırın. Ayrıştırıcı madde numaralandırmasını algılar ve her satırı gereksinime dönüştürür.",
    "import.pill": "ISO / MIL-STD numaralandırma desteklenir",
    "import.pasteLabel": "Şartname metnini yapıştırın",
    "import.pastePlaceholder": "3.2.1 Sistem ... olacaktır",
    "import.importBtn": "Gereksinimleri İçe Aktar",
    "import.reqifFile": "ReqIF Dosyası",
    "import.reqifImportBtn": "ReqIF İçe Aktar",
    "import.reqifExportBtn": "ReqIF Dışa Aktar",
    "import.csvFile": "CSV Dosyası",
    "import.csvImportBtn": "CSV İçe Aktar",
    "import.csvTemplateBtn": "CSV Şablonu İndir",
    "newReq.title": "Yeni Gereksinim",
    "newReq.createBtn": "Gereksinim Oluştur",
    "template.userStory.label": "Kullanıcı Hikayesi",
    "template.userStory.value": "Bir [rol] olarak [amaç] istiyorum, böylece [fayda].",
    "template.systemShall.label": "Sistem Şartı",
    "template.systemShall.value": "Sistem ... olacaktır",
    "template.componentShall.label": "Bileşen Şartı",
    "template.componentShall.value": "Bileşen ... olacaktır",
    "docLibrary.title": "Doküman Kütüphanesi",
    "docLibrary.searchPlaceholder": "Doküman ara",
    "docLibrary.sysSpec": "Sistem ?artnamesi - Rev A",
    "docLibrary.icd": "Aray?z Kontrol Dok?man? - Rev C",
    "docLibrary.qaPlan": "Kalite G?vence Plan? - Rev B",
    "docLibrary.testStrat": "Do?rulama Stratejisi - Taslak",
    "docLibrary.mea": "?l??m Prosed?rleri - Rev D",
    "docLibrary.none": "Başka doküman yok.",
    "field.id": "ID",
    "field.autoGenerated": "Otomatik oluşturulur",
    "field.title": "Gereksinim",
    "field.description": "Açıklama",
    "field.rationale": "Gerekçe",
    "field.discipline": "Disiplin",
    "field.subsystem": "Alt Sistem",
    "field.systemCode": "Sistem Kodu (3 karakter)",
    "field.subsystems": "Alt Sistemler",
    "field.globalReqId": "Global Req ID",
    "field.workflowStatus": "İş Akışı Durumu",
    "field.derivedFrom": "Türetilen",
    "field.informationalOnly": "Yalnızca Bilgilendirme",
    "field.requirementType": "Gereksinim Tipi",
    "field.verificationMethod": "Doğrulama Metodu",
    "field.targetQuarter": "Hedef Faz",
    "field.effortPoints": "Efor Puanı",
    "field.specClause": "Madde",
    "field.specClauseOptional": "Madde (opsiyonel)",
    "field.specClausePlaceholder": "3.2.1",
    "field.standards": "Standartlar (virgülle)",
    "field.standardsPlaceholder": "ISO 9001, MIL-STD-810",
    "field.referenceDocs": "Referans Dokümanlar (virgülle)",
    "field.referenceDocsPlaceholder": "DOC-12, SPEC-7",
    "field.parentRequirement": "Üst Gereksinim",
    "field.name": "Ad",
    "field.email": "E-posta",
    "field.password": "Şifre",
    "field.role": "Rol",
    "field.projectName": "Proje Adı",
    "field.customer": "Müşteri",
    "field.customerPlaceholder": "Müşteri adı",
    "field.startDate": "Başlangıç Tarihi",
    "field.dueDate": "Bitiş Tarihi",
    "field.user": "Kullanıcı",
    "field.project": "Proje",
    "library.title": "Gereksinim Kütüphanesi",
    "library.searchPlaceholder": "ID veya metin ara",
    "library.exportCsv": "CSV Dışa Aktar",
    "detail.title": "Gereksinim Detayı",
    "detail.selectPrompt": "Bir gereksinim seçin",
    "detail.prevBtn": "Önceki",
    "detail.nextBtn": "Sonraki",
    "detail.autoSave": "Otomatik Sakla",
    "detail.saveBtn": "Değişiklikleri Kaydet",
    "comments.title": "Yorumlar ve Sürümler",
    "comments.none": "Henüz yorum yok.",
    "comments.placeholder": "@etiket ile yorum ekleyin",
    "comments.postBtn": "Gönder",
    "versions.title": "Sürüm Geçmişi",
    "versions.none": "Henüz sürüm geçmişi yok.",
    "badge.suspect": "Şüpheli",
    "filter.allDisciplines": "Tüm Disiplinler",
    "filter.allStatuses": "Tüm Durumlar",
    "filter.allTypes": "Tüm Tipler",
    "filter.infoOnly": "Yalnızca Bilgilendirme",
    "filter.nonInfo": "Bilgilendirme Değil",
    "discipline.system": "Sistem",
    "discipline.mechanical": "Mekanik",
    "discipline.software": "Yazılım",
    "discipline.electronics": "Elektronik",
    "discipline.automation": "Otomasyon",
    "discipline.optics": "Optik",
    "discipline.other": "Diğer",
    "reqType.functional": "Fonksiyonel",
    "reqType.performance": "Performans",
    "reqType.safety": "Emniyet",
    "reqType.security": "Güvenlik",
    "reqType.regulatory": "Regülasyon",
    "reqType.interface": "Arayüz",
    "reqType.constraint": "Kısıt",
    "reqType.technical": "Teknik Gereksinim",
    "reqType.environmental": "Çevresel Gereksinim",
    "reqType.info": "Açıklama",
    "meta.dash": "-",
    "verification.analysis": "Analiz",
    "verification.test": "Test",
    "verification.inspection": "Muayene",
    "verification.demonstration": "Gösterim",
    "verification.coc": "Uygunluk Sertifikası",
    "status.draft": "Taslak",
    "status.inReview": "İncelemede",
    "status.approved": "Onaylı",
    "status.rejected": "Reddedildi",
    "trace.title": "İzlenebilirlik Matrisi",
    "trace.subtitle": "Gereksinimleri tasarım dokümanları ve testlerle ilişkilendirin.",
    "trace.requirement": "Gereksinim",
    "trace.designDocs": "Tasarım Dokümanları (virgülle)",
    "trace.designDocsHeader": "Tasarım Dokümanları",
    "trace.tests": "Testler (virgülle)",
    "trace.testsHeader": "Testler",
    "trace.designPlaceholder": "DOC-12, SYS-ARCH-04",
    "trace.testsPlaceholder": "TST-104, TST-220",
    "trace.saveBtn": "Bağlantıları Kaydet",
    "prio.title": "Önceliklendirme",
    "prio.subtitle": "MoSCoW, RICE veya WSJF puanlaması.",
    "prio.requirement": "Gereksinim",
    "prio.model": "Model",
    "prio.model.moscow": "MoSCoW",
    "prio.model.rice": "RICE",
    "prio.model.wsjf": "WSJF",
    "prio.saveBtn": "Skoru Kaydet",
    "prio.priority": "Öncelik",
    "prio.moscow.must": "Olmalı",
    "prio.moscow.should": "Olmalıydı",
    "prio.moscow.could": "Olabilir",
    "prio.moscow.wont": "Olmayacak",
    "prio.rice.reach": "Erişim",
    "prio.rice.impact": "Etki",
    "prio.rice.confidence": "Güven",
    "prio.rice.effort": "Efor",
    "prio.wsjf.businessValue": "İş Değeri",
    "prio.wsjf.timeCriticality": "Zaman Kritikliği",
    "prio.wsjf.riskReduction": "Risk Azaltma",
    "prio.wsjf.jobSize": "İş Büyüklüğü",
    "roadmap.title": "Yol Haritası",
    "roadmap.subtitle": "Efor puanına göre faz planı.",
    "roadmap.none": "Henüz öğe yok.",
    "baselines.title": "Baseline'lar",
    "baselines.subtitle": "Mevcut gereksinimlerin anlık görüntüsünü dondurun.",
    "baselines.namePlaceholder": "Baseline adı",
    "baselines.createBtn": "Baseline Oluştur",
    "baselines.none": "Henüz baseline yok.",
    "admin.title": "Admin Merkezi",
    "admin.subtitle": "Kullanıcıları, projeleri ve erişimleri yönetin.",
    "admin.exportJson": "JSON Dışa Aktar",
    "admin.importJson": "JSON İçe Aktar",
    "admin.importBackup": "İçe aktarmadan önce yedek al",
    "admin.reset": "Sıfırla",
    "admin.createUser": "Kullanıcı Oluştur",
    "admin.createUserBtn": "Kullanıcı Oluştur",
    "admin.createProject": "Proje Oluştur",
    "admin.createProjectBtn": "Proje Oluştur",
    "admin.projectCatalog": "Proje Kataloğu",
    "admin.projectCatalogHint": "Mevcut projeleri düzenleyin ve öznitelikleri güncelleyin.",
    "admin.assignUser": "Kullanıcıyı Projeye Ata",
    "admin.assignBtn": "Ata",
    "admin.accessOverview": "Erişim Özeti",
    "admin.remove": "Kaldır",
    "admin.projectSave": "Kaydet",
    "admin.projectDelete": "Sil",
    "admin.noProjects": "Kullanılabilir proje yok.",
    "admin.noAssignments": "Henüz atama yok.",
    "role.user": "Kullanıcı",
    "role.supervisor": "Süpervizör",
    "role.admin": "Admin",
    "role.editor": "Editör",
    "role.viewer": "Görüntüleyici",
    "auth.signIn": "Giriş",
    "auth.signInHint": "Projelerinize erişmek için bilgilerinizi kullanın.",
    "auth.loginBtn": "Giriş Yap",
    "auth.resetLocal": "Yerel Veriyi Sıfırla",
    "select.none": "Yok",
    "select.choose": "Se\u00e7in...",
    "status.infoTag": "Bilgi",
    "status.suspectTag": "Şüpheli",
    "status.loaded": "yüklendi",
    "status.selectRequirement": "Bir gereksinim seçin",
    "status.invalidCredentials": "Hatalı kullanıcı bilgileri.",
    "status.selectProjectFirst": "Önce bir proje seçin.",
    "status.nothingToImport": "İçe aktarılacak veri yok.",
    "status.importedRequirements": "{count} gereksinim içe aktarıldı.",
    "status.importedReqif": "{count} ReqIF gereksinimi içe aktarıldı.",
    "status.importedCsv": "{count} CSV gereksinimi içe aktarıldı.",
    "status.localReset": "Yerel veri sıfırlandı. admin@example.com / admin kullanın.",
    "status.importFailed": "İçe aktarma başarısız. Lütfen geçerli bir JSON dışa aktarım dosyası seçin.",
    "status.importSuccess": "İçe aktarma tamamlandı.",
    "status.importCancelled": "İçe aktarma iptal edildi.",
    "confirm.importOverwrite": "Mevcut tüm veriler değiştirilecektir. Devam edilsin mi?",
    "unsaved.title": "Kaydedilmemiş değişiklikler",
    "unsaved.message": "Kaydedilmemiş değişiklikler var. Ne yapmak istersiniz?",
    "unsaved.save": "Kaydet",
    "unsaved.discard": "Devam Et",
    "unsaved.cancel": "İptal",
    "confirm.reset": "Tüm yerel veriler silinecek. Devam edilsin mi?",
    "confirm.deleteProject": "Bu proje silinsin mi? Gereksinimler, baselinelar ve üyelikler kaldırılacak.",
    "confirm.unsavedNavigate": "Kaydedilmemiş değişiklikler var. Kaydetmeden devam edilsin mi?",
    "meta.pointsShort": "puan",
    "meta.suspectLabel": "şüpheli",
    "meta.requirements": "gereksinim",
    "meta.yes": "Evet",
    "meta.no": "Hayır",
    "baselines.defaultName": "Baseline {count}",
    "project.defaultName": "RMS Projesi",
    "csv.header.id": "ID",
    "csv.header.specClause": "Madde",
    "csv.header.title": "Gereksinim",
    "csv.header.discipline": "Disiplin",
    "csv.header.status": "Durum",
    "csv.header.info": "Bilgi",
    "csv.header.requirementType": "Gereksinim Tipi",
    "csv.header.verificationMethod": "Doğrulama Metodu",
    "csv.header.parent": "\u00dcst",
    "csv.header.quarter": "\u00c7eyrek",
    "csv.header.effort": "Efor",
    "csv.template.specClause": "madde",
    "csv.template.description": "gerek\u00e7e",
    "csv.template.verificationMethod": "do\u011frulama metodu",
    "csv.template.specClauseExample": "3.2.1",
    "csv.template.descriptionExample": "Gerek\u00e7e: ...",
    "csv.template.verificationExample": "Analiz, Test",
    "meta.unknown": "Bilinmiyor",
  },
};

let currentLang = "en";

export function t(key, params = {}) {
  const raw = translations[currentLang]?.[key] ?? translations.en[key] ?? key;
  if (!params || typeof raw !== "string") return raw;
  return raw.replace(/\{(\w+)\}/g, (match, name) => (name in params ? params[name] : match));
}

export function getLanguage() {
  return currentLang;
}

export function setLanguage(lang) {
  if (!translations[lang]) lang = "en";
  currentLang = lang;
  localStorage.setItem("rms-lang", lang);
  applyI18n();
}

export function initI18n() {
  const saved = localStorage.getItem("rms-lang");
  const browser = navigator.language?.toLowerCase() || "";
  currentLang = saved || (browser.startsWith("tr") ? "tr" : "en");
  applyI18n();
  return currentLang;
}

function applyI18n() {
  document.documentElement.lang = currentLang;
  document.querySelectorAll("[data-i18n]").forEach((el) => {
    el.textContent = t(el.dataset.i18n);
  });
  document.querySelectorAll("[data-i18n-placeholder]").forEach((el) => {
    const text = t(el.dataset.i18nPlaceholder);
    if (el instanceof HTMLInputElement || el instanceof HTMLTextAreaElement) {
      el.placeholder = text;
    } else {
      el.dataset.placeholder = text;
      if (el.textContent.trim() === "" || el.textContent.trim() === "None" || el.textContent.trim() === "Yok") {
        el.textContent = text;
      }
    }
  });
}
